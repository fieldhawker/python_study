# windowsにpython環境を作るの巻 (Markdownも)

---

### pythonのインストール (v3.6.2)

* 以下のURLからインストーラをダウンロードして実行  
https://www.python.org/downloads/

---

### WindowsのPathにpythonを追加する

* #### 環境変数にpythonの実行環境を追記する

    * Pathへの追記

        * C:\Users\xxxxx\AppData\Local\Programs\Python\Python36-32;  
        * C:\Users\xxxxx\AppData\Local\Programs\Python\Python36-32\Scripts;  

---

#### (おまけ備忘録) python実行用のCMDを使う場合

* ##### python実行用CMD起動バッチ作成

    * ファイル名：python_cmd.bat  
    ※PATHの部分は自分用に書き換えて使用すること  

        ```
        rem ココカラ
        @echo off
        ::: 実行前の準備
        set EXEC_DIR=%~dp0

        ::: python
        PATH=C:\Users\xxxxxx\AppData\Local\Programs\Python\Python36-32;C:\Users\xxxxx\AppData\Local\Programs\Python\Python36-32\Scripts;%PATH%

        cd %EXEC_DIR%
        PROMPT #$S

        %ComSpec%
        rem ココマデ
        ```

* ##### CMD起動

    * python_cmd.bat をダブルクリックする

---

### 状況に応じてモジュールを導入する

* requests モジュールの導入  
    ``` pip install requests```

* httpbin モジュールの導入  
    ```pip install httpbin```

* テストサーバの起動  
    ```python -m httpbin.core```

* ブラウザアクセスしてテストサーバの動作確認  
    ```http://127.0.0.1:5000/get?foo=bar```

* コード整形用のモジュールを追加  
    ```pip install pep8```

* コード整形自動化モジュールの追加  
    ```pip install autopep8```

---

### pythonを動作させる仮想環境を構築する

* venvコマンドで仮想環境を作成　　
    ```
    cd (作業ディレクトリ)  
    python -m venv (環境名)
    ```

* 仮想環境の中に入るvenvコマンドで仮想環境を作成
    ```
    cd (環境名)  
    call Scripts¥activate
    ```

* 仮想環境から抜ける
    ```
    (環境名) > call Scripts¥deactivate
    ```

* 仮想環境内でDjangoのインストール
    ```
    (環境名) > pip install django
    ```

* 仮想環境にインストールされたモジュールの確認
    ```
    (環境名) > pip freeze -l
    ```

* Djangoのプロジェクトを作成
    ```
    (環境名) > mkdir (プロジェクトルートディレクトリ)  
    (環境名) > cd (プロジェクトルートディレクトリ)  
    (環境名) > django-admin.py startproject (プロジェクト名)
    ```

* 開発用サーバの起動
    ```
    (環境名) > python manage.py runserver  
    起動確認用URL : http://127.0.0.1:8000/
    ```

* アプリケーションの作成
    ```
    (環境名) > cd (プロジェクト名)
    (環境名) > python manage.py startapp (アプリメーション名)
    ```
* モデル・管理サイト・あれこれ・・以下今後に記述

---

### コード整形時のコマンド群

* コードのチェックスタイルを実施
    ```
    pep8 (ファイル名).py
    ```

* チェックスタイル結果を自動反映
    ```
    autopep8 -i (ファイル名).py
    ```

---

### コード単位の実行

* コード実行
    ```
    (ファイル名).py
    ```

---

### エディタの準備

* Atom (日本語化/推奨パッケージ)
    ```
    https://atom.io/  
    http://qiita.com/akikimur/items/  
    http://qiita.com/SatoshiRobatoFujimoto/items/9bf40319d4fabf0bc246
    https://www.kotalog.net/archives/6038
    ```
* Atom おすすめっぽいパッケージ (python , Markdown)
    ```
    atom-runner
    autocomplete-python
    japanese-menu
    markdown-writer
    markdown-preview-plus
    markdown-scroll-sync
    markdown-pdf
    japanese-word-selection
    sublime-style-column-selection
    multi-cursor
    show-ideographic-space
    file-icons
    autocomplete-paths
    color-picker
    project-manager
    pigments
    emmet
    atom-html-preview
    browser-plus
    chary-tree-view
    atomcasts-syntax
    ```

    ---
